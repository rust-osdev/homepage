+++
title = "This Month in Rust OSDev (May 2020)"
date = 0000-01-01

[extra]
month = "May 2020"
authors = [
    "phil-opp",
    "IsaacWoods",
    "stlankes",
]
+++

Welcome to the second issue of _"This Month in Rust OSDev"_. In these posts, we will give a regular overview of notable changes in the Rust operating system development community.

<!-- more -->

This series is openly developed [on GitHub](https://github.com/rust-osdev/homepage/). Feel free to open pull requests there with content you would like to see in the next issue. If you find some issues on this page, please report them by [creating an issue](https://github.com/rust-osdev/homepage/issues/new).

<!--
    This is a draft for the upcoming "This Month in Rust OSDev (May 2020)" post.
    Feel free to create pull requests against the `next` branch to add your
    content here.

    Please take a look at the past posts on https://rust-osdev.com/ to see the
    general structure of these posts.
-->

## News and Blog Posts

We try to collect posts that are relevant to Rust-based OS development each month. Please create pull requests for any posts that you want linked in the next issue.


## Project Updates

In this section, we give an overview of notable changes to the projects hosted under the [`rust-osdev`] organization.

[`rust-osdev`]: https://github.com/rust-osdev/about

### `uefi`

The [`uefi` crate](https://github.com/rust-osdev/uefi-rs) provides abstractions for the [`UEFI`](https://en.wikipedia.org/wiki/Unified_Extensible_Firmware_Interface) standard that replaces the traditional BIOS on modern systems. This month, the crate's dependencies were updated, and a bug was fixed in the graphics protocol:

- [Bump x86_64 dependency version to fix build on latest nightlies](https://github.com/rust-osdev/uefi-rs/pull/134)
- [Fix `BltPixel::from` conversion](https://github.com/rust-osdev/uefi-rs/pull/135)

### [`acpi`](https://github.com/rust-osdev/acpi)
The `acpi` repository contains crates for parsing the ACPI tables â€“ data structures that the firmware of modern
computers use to relay information about the hardware to the OS. Not a lot happened this month, but preparations
were made to change how the AML namespace is stored on the heap, in order to avoid a lot of small heap allocations
for AML paths, and reduce the number of heap allocations overall. However, some more profiling infrastructure will
need to be built before starting this.

In preparation, a [change to how `DefName`s are stored in the namespace](https://github.com/rust-osdev/acpi/commit/3b08721981d85e7bd82124db8c72e0c31d243771) was made, which avoids an extra heap
allocation per `DefName`, and also allows us to simplify some code around the `aml` crate.

## New Projects

There are a number of new projects in the `rust-osdev` organization:


## Personal Projects

In this section, we describe updates to personal projects that are not directly related to the `rust-osdev` organization. Feel free to [create a pull request](https://github.com/rust-osdev/homepage/pulls) with the updates of your OS project for the next post.

### [`IsaacWoods/pebble`](https://github.com/IsaacWoods/pebble)
This month, I've been tracking down a bug in the kernel that causes usermode stacks to become corrupted on the
return of some system calls. While I've not found the root cause, I've taken this opportunity to add some more
debugging capabilities, which have found a number of other kernel bugs.

I also started working on the Rust implementation of [Ptah](https://github.com/IsaacWoods/pebble/tree/master/lib/ptah/src),
the wire format for Pebble's message passing interface. It allows libraries to easily use [Serde](https://serde.rs/) to
serialize and deserialize Rust types to and from the wire format. In the future, a compiler will be able to
generate bindings for `Ptah` for a number of different supported languages, which will allow tasks written in
different languages to communicate over Pebble `Channel`s using idiomatic types.

### [`RustyHermit`](https://github.com/hermitcore/libhermit-rs)

RustyHermit is a [unikernel](http://unikernel.org) targeting a scalable and predictable runtime. Unikernel means, you bundle your application directly with the kernel library, so that it can run without any installed operating system.
This reduces image size and overhead, therefore, interesting applications include virtual machines and high-performance computing.

This month the integration of [smoltcp](https://github.com/smoltcp-rs/smoltcp) has been improved and first support for virtio has been integrated. The integration in Rust's standard runtime is already in progress and clients can be developed with `TcpStream`. Server side applications will follow soon.

### [`rust-embedded/rust-raspberrypi-OS-tutorials`](https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials)

<span class="gray">(Section written by [@andre-richter](https://github.com/andre-richter))</span>

May was a quiet month for the project, since I am currently taking a little hiatus. I am planning to restart working on new content two or three months down the road.

Therefore, only some maintenance updates went in, e.g. bumping all dependency crates to versions that support the new `llvm_asm!` macros. Also, the :cn: chinese translations received updates/additions ([main Readme ](https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials/blob/master/README.CN.md); [00_before_we_start](https://github.com/rust-embedded/rust-raspberrypi-OS-tutorials/blob/master/00_before_we_start/README.CN.md)).

## Call for Participation


## Join Us?

Are you interested in Rust-based operating system development? Our `rust-osdev` organization is always open to new members and new projects. Just let us know if you want to join! A good way for getting in touch is our [gitter channel](https://gitter.im/rust-osdev/Lobby).
